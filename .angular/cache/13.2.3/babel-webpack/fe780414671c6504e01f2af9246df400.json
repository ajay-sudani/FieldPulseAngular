{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { getPizzaSubtotal } from '../core/utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/services/pizza.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/card\";\n\nfunction PizzaComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelementStart(1, \"p\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedPizzeria.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedPizzeria.address);\n  }\n}\n\nfunction PizzaComponent_div_2_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function PizzaComponent_div_2_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.setSelectedTabIndexEvent.emit(2);\n    });\n    i0.ɵɵtext(1, \" Order Calculation \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PizzaComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementStart(2, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PizzaComponent_div_2_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.setSelectedTabIndexEvent.emit(0);\n    });\n    i0.ɵɵtext(3, \" Back \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, PizzaComponent_div_2_button_4_Template, 2, 0, \"button\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \" Total Pizzas : \");\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11, \" Subtotal : \");\n    i0.ɵɵelementStart(12, \"span\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.totalPizzas > 0);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.totalPizzas);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.subTotal);\n  }\n}\n\nfunction PizzaComponent_div_3_mat_card_1_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function PizzaComponent_div_3_mat_card_1_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const pizza_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.togglePizza(pizza_r11, \"add\");\n    });\n    i0.ɵɵtext(1, \" Add + \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PizzaComponent_div_3_mat_card_1_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"button\", 18);\n    i0.ɵɵelementStart(2, \"span\", 19);\n    i0.ɵɵlistener(\"click\", function PizzaComponent_div_3_mat_card_1_div_12_Template_span_click_2_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const pizza_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return ctx_r17.togglePizza(pizza_r11, \"remove\");\n    });\n    i0.ɵɵtext(3, \"-\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 19);\n    i0.ɵɵlistener(\"click\", function PizzaComponent_div_3_mat_card_1_div_12_Template_span_click_6_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const pizza_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return ctx_r20.togglePizza(pizza_r11, \"add\");\n    });\n    i0.ɵɵtext(7, \"+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pizza_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(pizza_r11.quantity);\n  }\n}\n\nfunction PizzaComponent_div_3_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 13);\n    i0.ɵɵelementStart(1, \"mat-card-header\");\n    i0.ɵɵelementStart(2, \"mat-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-subtitle\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"img\", 14);\n    i0.ɵɵelementStart(7, \"mat-card-content\");\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"mat-card-actions\", 15);\n    i0.ɵɵtemplate(11, PizzaComponent_div_3_mat_card_1_button_11_Template, 2, 0, \"button\", 9);\n    i0.ɵɵtemplate(12, PizzaComponent_div_3_mat_card_1_div_12_Template, 8, 1, \"div\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const pizza_r11 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(pizza_r11.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price : \", pizza_r11.price, \"$ USD\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", pizza_r11.image_url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", pizza_r11.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(pizza_r11.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !pizza_r11.quantity);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", pizza_r11.quantity != undefined && pizza_r11.quantity != 0);\n  }\n}\n\nfunction PizzaComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtemplate(1, PizzaComponent_div_3_mat_card_1_Template, 13, 7, \"mat-card\", 12);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.pizzaList);\n  }\n}\n\nfunction PizzaComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-card\", 20);\n    i0.ɵɵelementStart(1, \"mat-card-content\");\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"No Pizza available for selected Pizzeria.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Kindly choose other Pizzeria from Pizzeria tab.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-card-actions\");\n    i0.ɵɵelementStart(7, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function PizzaComponent_ng_template_4_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.setSelectedTabIndexEvent.emit(0);\n    });\n    i0.ɵɵtext(8, \" Back \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let PizzaComponent = /*#__PURE__*/(() => {\n  class PizzaComponent {\n    constructor(pizzaService) {\n      this.pizzaService = pizzaService;\n      this.selectedPizzeria = null;\n      this.selectedPizzaListEvent = new EventEmitter();\n      this.setSelectedTabIndexEvent = new EventEmitter();\n      this.pizzaList = [];\n      this.totalPizzas = 0;\n      this.subTotal = 0;\n    }\n\n    ngOnChanges(changes) {\n      var _a, _b, _c, _d, _e;\n\n      if (((_a = this.selectedPizzeria) === null || _a === void 0 ? void 0 : _a.id) !== -1) {\n        this.getPizzerias();\n      }\n\n      if (((_c = (_b = changes['selectedPizzeria']) === null || _b === void 0 ? void 0 : _b.currentValue) === null || _c === void 0 ? void 0 : _c.id) !== ((_e = (_d = changes['selectedPizzeria']) === null || _d === void 0 ? void 0 : _d.previousValue) === null || _e === void 0 ? void 0 : _e.id)) {\n        this.totalPizzas = 0;\n        this.subTotal = 0;\n      }\n    } // To get default pizza list and apply filter based on selected pizzeria\n\n\n    getPizzerias() {\n      this.pizzaService.getPizzaJSON().subscribe(data => {\n        this.pizzaList = data.filter(pizza => {\n          var _a;\n\n          return pizza.available_in_pizzerias.includes((_a = this.selectedPizzeria) === null || _a === void 0 ? void 0 : _a.id);\n        });\n      });\n    } // Set selected pizza's total quantity\n\n\n    togglePizza(pizza, type) {\n      if (type === 'add') {\n        pizza.quantity = (pizza.quantity || 0) + 1;\n        this.totalPizzas++;\n      } else if (type === 'remove' && pizza.quantity) {\n        pizza.quantity = pizza.quantity - 1;\n        this.totalPizzas--;\n      }\n\n      this.subTotal = getPizzaSubtotal(this.pizzaList);\n      this.selectedPizzaListEvent.emit(this.pizzaList.filter(pizza => pizza.quantity > 0));\n    }\n\n  }\n\n  PizzaComponent.ɵfac = function PizzaComponent_Factory(t) {\n    return new (t || PizzaComponent)(i0.ɵɵdirectiveInject(i1.PizzaService));\n  };\n\n  PizzaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PizzaComponent,\n    selectors: [[\"app-pizza\"]],\n    inputs: {\n      selectedPizzeria: \"selectedPizzeria\"\n    },\n    outputs: {\n      selectedPizzaListEvent: \"selectedPizzaListEvent\",\n      setSelectedTabIndexEvent: \"setSelectedTabIndexEvent\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 6,\n    vars: 4,\n    consts: [[1, \"pizza-list\"], [\"class\", \"pizzeria-details\", 4, \"ngIf\"], [\"class\", \"header-content\", 4, \"ngIf\"], [\"class\", \"content\", 4, \"ngIf\", \"ngIfElse\"], [\"no_pizza_available_content\", \"\"], [1, \"pizzeria-details\"], [1, \"name\"], [1, \"header-content\"], [\"mat-raised-button\", \"\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"content\"], [\"class\", \"pizza-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"pizza-card\"], [\"mat-card-image\", \"\", 3, \"src\", \"alt\"], [1, \"actions\"], [\"class\", \"range-picker\", 4, \"ngIf\"], [1, \"range-picker\"], [\"mat-raised-button\", \"\", \"color\", \"primary\"], [1, \"quantity\", 3, \"click\"], [1, \"no-pizza-available\"]],\n    template: function PizzaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, PizzaComponent_div_1_Template, 5, 2, \"div\", 1);\n        i0.ɵɵtemplate(2, PizzaComponent_div_2_Template, 14, 3, \"div\", 2);\n        i0.ɵɵtemplate(3, PizzaComponent_div_3_Template, 2, 1, \"div\", 3);\n        i0.ɵɵtemplate(4, PizzaComponent_ng_template_4_Template, 9, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r3 = i0.ɵɵreference(5);\n\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedPizzeria);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.pizzaList.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.pizzaList.length > 0)(\"ngIfElse\", _r3);\n      }\n    },\n    directives: [i2.NgIf, i3.MatButton, i2.NgForOf, i4.MatCard, i4.MatCardHeader, i4.MatCardTitle, i4.MatCardSubtitle, i4.MatCardImage, i4.MatCardContent, i4.MatCardActions],\n    styles: [\".pizza-list[_ngcontent-%COMP%]{margin:50px}@media screen and (max-width: 767px){.pizza-list[_ngcontent-%COMP%]{margin:20px}}.pizza-list[_ngcontent-%COMP%]   .pizzeria-details[_ngcontent-%COMP%]{text-align:center;margin-bottom:50px}.pizza-list[_ngcontent-%COMP%]   .pizzeria-details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.pizza-list[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{margin-bottom:50px;display:flex;justify-content:space-between}@media screen and (max-width: 479px){.pizza-list[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column}}.pizza-list[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:20px}.pizza-list[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){margin-left:20px}.pizza-list[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;text-align:right}@media screen and (max-width: 767px){.pizza-list[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}.pizza-list[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:green}.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]{width:320px;margin:0 20px 40px;display:flex;flex-direction:column;justify-content:space-between}@media screen and (min-width: 768px) and (max-width: 1279px){.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]{width:calc(50% - 48px);margin:0 0 30px}.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]:nth-child(even){margin-left:30px}}@media screen and (max-width: 767px){.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]{width:100%;margin:20px 0}}.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:300px;margin:0;object-fit:cover}.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px}.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{text-align:center}.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .range-picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:unset}.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .range-picker[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{background-color:#fff;color:#000;width:20px;height:20px;border-radius:50%;display:inline-flex;justify-content:center;align-items:center;font-size:18px;font-weight:700;margin:0 15px;cursor:pointer}@media screen and (max-width: 767px){.pizza-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .range-picker[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{font-size:16px}}.pizza-list[_ngcontent-%COMP%]   .no-pizza-available[_ngcontent-%COMP%]{text-align:center}.pizza-list[_ngcontent-%COMP%]   .no-pizza-available[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ff6363;font-size:18px}@media screen and (max-width: 767px){.pizza-list[_ngcontent-%COMP%]   .no-pizza-available[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}\"]\n  });\n  return PizzaComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}